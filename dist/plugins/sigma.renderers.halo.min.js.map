{"version":3,"file":"sigma.renderers.halo.min.js","sources":["../../plugins/sigma.renderers.halo/settings.js","../../plugins/sigma.renderers.halo/sigma.renderers.halo.js"],"names":["sigma","Error","utils","pkg","settings","nodeHaloColor","nodeHaloStroke","nodeHaloStrokeColor","nodeHaloStrokeWidth","nodeHaloSize","nodeHaloClustering","nodeHaloClusteringMaxRadius","edgeHaloColor","edgeHaloSize","drawHalo","extend","call","this","intersection","args","argsIndex","argsLength","arguments","length","value","push","array","index","result","outer","indexOf","drawCircles","circles","context","withStroke","i","beginPath","arc","x","y","radius","Math","PI","closePath","fill","stroke","clusterCircles","margin","maxRadius","Number","POSITIVE_INFINITY","centroid","d","points","intersecting","j","getDistance","concat","p","max","apply","map","point","halo","params","domElements","initDOM","width","container","offsetWidth","height","offsetHeight","insertBefore","firstChild","source","target","cp","sSize","sX","sY","tX","tY","self","contexts","background","webgl","renderers","ePrefix","options","prefix","nPrefix","substr","nHaloClustering","nHaloClusteringMaxRadius","nHaloColor","nHaloSize","nHaloStroke","nHaloStrokeColor","nHaloStrokeWidth","borderSize","outerBorderSize","eHaloColor","eHaloSize","nodes","edges","nodesOnScreen","edgesOnScreen","canvas","save","strokeStyle","forEach","edge","graph","lineWidth","moveTo","type","getSelfLoopControlPoints","bezierCurveTo","x1","y1","x2","y2","getQuadraticControlPoint","quadraticCurveTo","lineTo","fillStyle","filter","node","hidden","restore","prototype"],"mappings":"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"}