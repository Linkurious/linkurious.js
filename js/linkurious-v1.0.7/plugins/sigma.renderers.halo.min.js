(function(a){"use strict";if("undefined"==typeof sigma)throw"sigma.renderers.halo: sigma not in scope.";sigma.utils.pkg("sigma.settings");var b={nodeHaloColor:"#fff",nodeHaloSize:50,edgeHaloColor:"#fff",edgeHaloSize:10};sigma.settings=sigma.utils.extend(sigma.settings||{},b)}).call(this),function(a){function b(){for(var a=[],b=-1,c=arguments.length;++b<c;){var d=arguments[b];a.push(d)}var e=a[0],f=-1,g=e?e.length:0,h=[];a:for(;++f<g;)if(d=e[f],h.indexOf(d)<0){for(var b=c;--b;)if(a[b].indexOf(d)<0)continue a;h.push(d)}return h}function c(a){a=a||{},this.domElements.background||(this.initDOM("canvas","background"),this.domElements.background.width=this.container.offsetWidth,this.domElements.background.height=this.container.offsetHeight,this.container.insertBefore(this.domElements.background,this.container.firstChild));var c,d,e,f,g,h,i,j,k=this,l=k.contexts.background,m=this instanceof sigma.renderers.webgl,n=k.options.prefix,o=m?n.substr(5):n,p=a.nodeHaloColor||k.settings("nodeHaloColor"),q=a.nodeHaloSize||k.settings("nodeHaloSize"),r=k.settings("borderSize")||0,s=k.settings("outerBorderSize")||0,t=a.edgeHaloColor||k.settings("edgeHaloColor"),u=a.edgeHaloSize||k.settings("edgeHaloSize"),v=a.nodes||[],w=a.edges||[];v=m?v:b(a.nodes,k.nodesOnScreen),w=m?w:b(a.edges,k.edgesOnScreen),l.canvas.width=l.canvas.width,l.save(),l.strokeStyle=t,w.forEach(function(a){c=k.graph.nodes(a.source),d=k.graph.nodes(a.target),l.lineWidth=(a[n+"size"]||1)+u,l.beginPath(),e={},f=c[o+"size"],g=c[o+"x"],h=c[o+"y"],i=d[o+"x"],j=d[o+"y"],l.moveTo(g,h),"curve"===a.type||"curvedArrow"===a.type?a.source===a.target?(e=sigma.utils.getSelfLoopControlPoints(g,h,f),l.bezierCurveTo(e.x1,e.y1,e.x2,e.y2,i,j)):(e=sigma.utils.getQuadraticControlPoint(g,h,i,j),l.quadraticCurveTo(e.x,e.y,i,j)):(l.moveTo(g,h),l.lineTo(i,j)),l.stroke(),l.closePath()}),l.fillStyle=p,v.forEach(function(a){a.hidden||(l.beginPath(),l.arc(a[o+"x"],a[o+"y"],a[o+"size"]+r+s+q,0,2*Math.PI,!0),l.closePath(),l.fill())}),l.restore()}if("undefined"==typeof sigma)throw"sigma.renderers.halo: sigma not in scope.";sigma.classes.graph.hasMethod("adjacentNodes")||sigma.classes.graph.addMethod("adjacentNodes",function(a){if("string"!=typeof a)throw"adjacentNodes: the node id must be a string.";var b,c=[];for(b in this.allNeighborsIndex[a])c.push(this.nodesIndex[b]);return c}),sigma.classes.graph.hasMethod("adjacentEdges")||sigma.classes.graph.addMethod("adjacentEdges",function(a){if("string"!=typeof a)throw"adjacentEdges: the node id must be a string.";var b,c,d=this.allNeighborsIndex[a],e=[];for(c in d)for(b in d[c])e.push(d[c][b]);return e}),sigma.renderers.canvas.prototype.halo=c,sigma.renderers.webgl.prototype.halo=c}.call(this);
//# sourceMappingURL=sigma.renderers.halo.min.js.map